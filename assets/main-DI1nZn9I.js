import{g as c,r as d,n as s,s as l}from"./router-1w4LBwUT.js";window.addEventListener("popstate",()=>{e()});const e=()=>{const i=c();l.loginState=!!i,d(),document.querySelectorAll("a").forEach(t=>{t.addEventListener("click",n=>{if(n.target.closest("nav"))return;n.preventDefault();const a=n.target.href.replace(location.origin,"");s(a),e()})});const o=document.getElementById("profile-form");o&&o.addEventListener("submit",t=>{t.preventDefault();const n=document.getElementById("username").value,a=document.getElementById("email").value,g=document.getElementById("bio").value,r=c();r.username=n,r.email=a,r.bio=g,localStorage.setItem("user",JSON.stringify(r)),e()});const m=document.getElementById("login-form");m&&m.addEventListener("submit",t=>{t.preventDefault(),f()});const u=document.getElementById("logout");u&&u.addEventListener("click",v)},f=()=>{const o={username:document.getElementById("username").value,email:"",bio:""};localStorage.setItem("user",JSON.stringify(o)),l.loginState=!0,s("/"),e()},v=()=>{localStorage.removeItem("user"),l.loginState=!1,s("/login"),e()};e();
