import{g as c,r as d,n as s,s as l}from"./router-BwvRmodD.js";window.addEventListener("popstate",()=>{t()});const t=()=>{const i=c();l.loginState=!!i,d(),document.querySelectorAll("a").forEach(n=>{n.addEventListener("click",e=>{if(e.target.matches('a[href="/login"]')){e.stopPropagation(),e.preventDefault();return}e.preventDefault();const a=e.target.href.replace(location.origin,"");s(a),t()})});const o=document.getElementById("profile-form");o&&o.addEventListener("submit",n=>{n.preventDefault();const e=document.getElementById("username").value,a=document.getElementById("email").value,g=document.getElementById("bio").value,r=c();r.username=e,r.email=a,r.bio=g,localStorage.setItem("user",JSON.stringify(r)),t()});const m=document.getElementById("login-form");m&&m.addEventListener("submit",n=>{n.preventDefault(),f()});const u=document.getElementById("logout");u&&u.addEventListener("click",v)},f=()=>{const o={username:document.getElementById("username").value,email:"",bio:""};localStorage.setItem("user",JSON.stringify(o)),l.loginState=!0,s("/"),t()},v=()=>{localStorage.removeItem("user"),l.loginState=!1,s("/login"),t()};t();
