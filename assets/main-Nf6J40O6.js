import{g as c,r as g,n as s,s as l}from"./router-D3b9zbT6.js";window.addEventListener("popstate",()=>{e()});const e=()=>{const i=c();l.loginState=!!i,g(),document.querySelectorAll("a").forEach(t=>{t.addEventListener("click",o=>{o.preventDefault();const a=o.target.href.replace(location.origin,"");s(a),e()})});const n=document.getElementById("profile-form");n&&n.addEventListener("submit",t=>{t.preventDefault();const o=document.getElementById("username").value,a=document.getElementById("email").value,d=document.getElementById("bio").value,r=c();r.username=o,r.email=a,r.bio=d,localStorage.setItem("user",JSON.stringify(r)),e()});const m=document.getElementById("login-form");m&&m.addEventListener("submit",t=>{t.preventDefault(),f()});const u=document.getElementById("logout");u&&u.addEventListener("click",v)},f=()=>{const n={username:document.getElementById("username").value,email:"",bio:""};localStorage.setItem("user",JSON.stringify(n)),l.loginState=!0,s("/"),e()},v=()=>{localStorage.removeItem("user"),l.loginState=!1,s("/login"),e()};e();
